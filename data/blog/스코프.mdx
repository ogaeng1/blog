---
title: 스코프(Scope)
date: '2023-05-10'
tags: ['javascript']
draft: false
summary: '스코프에 대해 알아보자'
---

스코프는 변수명, 함수명, 클래스명 과 같은 식별자가 본인이 선언된 위치에 따라 다른 코드에서
자신이 참조될 수 있을지 없을지 결정되는 것을 의미합니다.

우리가 변수를 선언할 때 다음과 같이 선언할 수 있습니다. <br />

```js <br />
var a = "나는 전역변수"

funtion scopeFn() {
var b = "나는 지역변수"
console.log(b)
}

console.log(b)
```

변수 a는 스코프 밖에 선언되었기 때문에 어디서나 사용이 가능한 전역변수이고, 변수 b는 함수안에서 선언되었기 때문에
함수 안에서만 사용할 수 있는 지역변수입니다. scopeFn 함수만 실행하면 문제가 되지 않지만, 함수 내부에 선언한 변수를
함수 밖에서 사용하려고 하면 에러가 발생합니다. 이게 전역변수와 지역변수의 차이라고 볼 수 있습니다.

좀 더 자세히 알아보겠습니다.

```js
var a = '전역변수'

function outer() {
  var b = '지역변수'
  console.log(a)
  console.log(b)

  function inner() {
    var a = '나도 지역변수'
    console.log(a)
    console.log(b)
  }
  inner()
}

outer()
console.log(a)
console.log(b)

// 전역변수
// 지역변수
// 나도 지역변수
// 지역변수
// 전역변수
// 참조에러
```

코드를 살펴보면 이렇게 볼 수 있습니다. <br />
우선 가장 하위 계층의 스코프를 갖는 inner 지역 스코프에는 "나도 지역변수" 라는 값을 가진 변수 a 하나가 존재합니다.
바로 위 계층의 outer 스코프는 "지역변수" 라는 값을 가진 변수 b가 존재합니다. 마지막으로 최상위 스코프에는
"전역변수" 라는 값을 가진 변수 a가 존재합니다. <br />
이렇게 inner -> outer -> 전역 스코프 처럼 스코프가 계층적으로 연결 되어 있는 것을 "스코프 체인"이라고 부릅니다.
자바스크립트 엔진은 변수를 참조할 때 스코프 체인을 통해 변수를 참조합니다. 현재 함수가 어떤 변수를 참조하려고 하는데
자신의 스코프 안에 원하는 변수가 없다면 상위 스코프로 올라갑니다. 상위 스코프에도 없다면 한단계씩 위로 올라가며,
마지막 스코프에도 존재하지 않다면 최종적으로 참조 에러를 발생시킵니다. 스코프 체인에서 변수를 참조할 때는 무조건 위로만
올라갑니다. <br />

아마도 우리가 코드를 작성하면서 하위 스코프에서 상위 스코프에 있는 변수를 참조할 수 있는 이유가 이러한
스코프 체인의 반방향성 특징 때문입니다.

<br />

# 스코프 레벨

스코프는 다음과 같은 기준으로 나눌 수 있습니다.

### 함수 레벨 스코프, 블록 레벨 스코프

두 레벨 스코프의 차이점은 무엇일까요?

우선 블록 레벨 스코프부터 알아보겠습니다. <br />
블록 레벨 스코프는 우리가 흔히 사용하는 if문, for문, 함수와 같이 모든 코드 블록이 지역 스코프를
만듭니다. 이러한 특성을 "블록 레벨 스코프"라고 하며, 대부분의 프로그래밍 언어가 이런 특징을 가지고
있습니다. <br />
반면, 함수 레벨 스코프는 자바스크립트의 var 키워드로 선언된 변수는 오직 함수 코드 블록만 지역 스코프로
받아 들입니다. 자바스크립트에서도 블록 레벨 스코프를 갖기 위해 만든게 바로 우리가 흔히 사용하는
let, const 키워드 입니다. let과 const를 사용하면 기존 블록 레벨 스코프처럼 모든 블록 단위에 대한
스코프를 가질 수 있습니다.
