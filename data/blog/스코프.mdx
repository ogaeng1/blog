---
title: 스코프(Scope)
date: '2023-05-10'
tags: ['javascript']
draft: false
summary: '스코프에 대해 알아보자'
---

스코프는 변수명, 함수명, 클래스명 과 같은 식별자가 본인이 선언된 위치에 따라 다른 코드에서
자신이 참조될 수 있을지 없을지 결정되는 것을 의미합니다.

<br />
우리가 변수를 선언할 때 다음과 같이 선언할 수 있습니다. <br />

```js <br />
var a = "나는 전역변수"

funtion scopeFn() {
var b = "나는 지역변수"
console.log(b)
}

console.log(b)
```

변수 a는 스코프 밖에 선언되었기 때문에 어디서나 사용이 가능한 전역변수이고, 변수 b는 함수안에서 선언되었기 때문에
함수 안에서만 사용할 수 있는 지역변수다. scopeFn 함수만 실행하면 문제가 되지 않지만, 함수 내부에 선언한 변수를
함수 밖에서 사용하려고 하면 에러가 발생한다. 이게 전역변수와 지역변수의 차이라고 볼 수 있다.

<br />

좀 더 자세히 알아보자.

```js
var a = '전역변수'

function outer() {
  var b = '지역변수'
  console.log(a)
  console.log(b)

  function inner() {
    var a = '나도 지역변수'
    console.log(a)
    console.log(b)
  }
  inner()
}

outer()
console.log(a)
console.log(b)

// 전역변수
// 지역변수
// 나도 지역변수
// 지역변수
// 전역변수
// 참조에러
```

코드를 살펴보면 이렇게 볼 수 있다. <br />
우선 가장 하위 계층의 스코프를 갖는 inner 지역 스코프에는 "나도 지역변수" 라는 값을 가진 변수 a 하나가 존재한다.
바로 위 계층의 outer 스코프는 "지역변수" 라는 값을 가진 변수 b가 존재한다. 마지막으로 최상위 스코프에는
"전역변수" 라는 값을 가진 변수 a가 존재한다. <br />
이렇게 inner -> outer -> 전역 스코프 처럼 스코프가 계층적으로 연결 되어 있는 것을 "스코프 체인"이라고 부른다.
자바스크립트 엔진은 변수를 참조할 때 스코프 체인을 통해 변수를 참조합니다. 현재 함수가 어떤 변수를 참조하려고 하는데
자신의 스코프 안에 원하는 변수가 없다면 상위 스코프로 올라갑니다. 상위 스코프에도 없다면 한단계씩 위로 올라가며,
마지막 스코프에도 존재하지 않다면 최종적으로 참조 에러를 발생시킵니다. 스코프 체인에서 변수를 참조할 때는 무조건 위로만
올라갑니다. <br />

아마도 우리가 코드를 작성하면서 하위 스코프에서 상위 스코프에 있는 변수를 참조할 수 있는 이유가 이러한
스코프 체인의 반방향성 특징 때문입니다.
